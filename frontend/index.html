<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ...existing analytics and pixel scripts... -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Viral Content - Make Your Content Go Viral</title>
    <meta name="description" content="AI-powered viral video titles, captions, hooks & metadataâ€”optimized for TikTok, Instagram, YouTube.">
    <meta property="og:title" content="AI Viral Content - Make Your Content Go Viral">
    <meta property="og:description" content="Generate irresistible video titles, captions, hooks, and hashtags with AI. Limited-time lifetime access for first 200 creators!">
    <meta property="og:image" content="https://aiviralcontent.io/og-image.png">
    <meta property="og:url" content="https://aiviralcontent.io/">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="stylesheet" href="main.css">
    <style>
        /* Add/adjust styles for new sections here if needed */
        .hero-announcement {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(102,126,234,0.10);
            padding: 36px 24px;
            margin: 36px auto 36px auto;
            text-align: center;
            max-width: 700px;
        }
        .scarcity-counter {
            font-weight: bold;
            color: #764ba2;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .testimonials {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 30px 20px;
            margin: 40px auto;
            max-width: 700px;
            text-align: center;
        }
        .testimonial-quote {
            font-style: italic;
            margin-bottom: 10px;
        }
        .testimonial-author {
            font-weight: bold;
            color: #667eea;
        }
        .features-list, .roadmap-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 24px;
            margin: 30px 0;
        }
        .feature-item, .roadmap-item {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(102,126,234,0.08);
            padding: 18px 14px;
            min-width: 180px;
            max-width: 220px;
            text-align: center;
        }
        .secure-badge {
            display: inline-block;
            background: #f0f2f5;
            color: #333;
            border-radius: 8px;
            padding: 6px 14px;
            font-size: 0.95em;
            margin: 10px 0 0 0;
        }
        footer {
            text-align: center;
            color: #888;
            font-size: 0.95em;
            margin: 40px 0 10px 0;
        }
        @media (max-width: 768px) {
            .features-list, .roadmap-list {
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5LLN5RK9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- HERO SECTION -->
    <div class="hero-announcement">
        <h2 style="font-size: 2.2em; color: #764ba2; margin-bottom: 12px;">âœ¨ Turn Your Ideas Into Viral Hits in Seconds</h2>
        <p style="font-size: 1.2em; color: #333; margin-bottom: 18px;">
            AI Viral Content helps creators, entrepreneurs, and marketers craft irresistible video titles, captions, hooks, and hashtagsâ€”all powered by cutting-edge AI.
        </p>
        <p style="font-size: 1.1em; color: #555; margin-bottom: 18px;">
            Stop guessing what works. Unlock the secret to going viral on YouTube, TikTok, Instagram, Twitter, and Facebook with AI-backed content ideas that grab attention and drive clicks.
        </p>
        <ul style="list-style: none; padding: 0; margin-bottom: 18px;">
            <li style="margin-bottom: 8px;">ğŸš€ Instantly boost your views, engagement, and reach with proven, algorithm-friendly suggestions.</li>
            <li style="margin-bottom: 8px;">ğŸ‘©â€ğŸ¤ Join 127+ creators already using AI Viral Content to grow their audience and stand out in crowded feeds.</li>
            <li style="margin-bottom: 8px;">âš¡ Save time, crush creative block, and publish content that gets noticed.</li>
        </ul>
        <div class="scarcity-counter" id="scarcity-counter"></div>
        <a href="#gemini-form" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; font-weight: bold; padding: 16px 36px; border-radius: 30px; font-size: 1.2em; text-decoration: none; margin-top: 10px;">
            ğŸ‘‰ Try the Viral Title Generator nowâ€”and claim your limited-time lifetime access for just $29.99 before itâ€™s gone.
        </a>
        <div class="secure-badge">ğŸ”’ Secure checkout by Stripe</div>
    </div>

    <!-- TESTIMONIALS -->
    <div class="testimonials">
        <div class="testimonial-quote">â€œI boosted my views 150% after tweaking my video titles using this tool!â€</div>
        <div class="testimonial-author">â€” Alex, YouTube Creator</div>
        <div class="testimonial-quote">â€œThe AI suggestions are spot-on and save me hours every week.â€</div>
        <div class="testimonial-author">â€” Jamie, Instagram Coach</div>
        <div class="testimonial-quote">â€œFinally, a tool that actually helps me go viral!â€</div>
        <div class="testimonial-author">â€” Priya, TikTok Influencer</div>
    </div>

    <!-- HOW IT WORKS / DEMO -->
    <div class="hero-announcement" style="margin-top: 0;">
        <h3>How It Works</h3>
        <ol style="text-align:left; max-width:500px; margin:0 auto 18px;">
            <li>Paste any video URL below (YouTube videos will show preview).</li>
            <li>Click "Generate" to get viral-ready titles and hashtags.</li>
            <li>Copy, tweak, and post on any platform for maximum engagement!</li>
        </ol>
        <p style="margin-bottom:0;">Try it now with this demo link:<br>
            <code>https://www.youtube.com/watch?v=2lp0GjX-6FM</code>
        </p>
    </div>

    <!-- VIDEO TITLE & HASHTAG GENERATOR -->
    <div class="video-gemini-section">
        <h2>AI Video Title & Hashtag Generator</h2>
        <p style="background: #e8f4fd; padding: 12px; border-radius: 8px; margin-bottom: 15px; text-align: center; color: #0066cc;">
            ğŸ <strong>3 free short video analyses per day (â‰¤30 seconds)</strong> â€¢ <a href="#stripe-payment-btn" style="color: #dc3545; font-weight: bold;">Get unlimited full-length videos for $29.99</a>
        </p>
        <form id="gemini-form">
            <input type="text" id="youtube-url" placeholder="Paste any video URL (YouTube, TikTok, Instagram, etc.)" value="https://www.youtube.com/watch?v=2lp0GjX-6FM">
            <button type="submit">Generate</button>
        </form>
        <div id="video-embed"></div>
        <div id="gemini-output"></div>
    </div>

    <!-- LEAD MAGNET -->
    <div class="lead-magnet-section">
        <h2>Get Your AI-Generated Titles & Hashtags</h2>
        <p>Use the generator above to create viral titles and hashtags instantly - just copy and paste!</p>
        <form id="lead-form">
            <input type="email" placeholder="Your email" required>
            <button type="submit">Get Templates</button>
        </form>
        <p id="form-message"></p>
    </div>

    <!-- PAYMENT SECTION -->
    <div class="payment-section">
        <h2>ğŸ‰ Limited-Time Launch Offer: Lifetime Access for First 200 Subscribers!</h2>
        <p><strong>First 200 subscribers:</strong> Get lifetime access for just <span class="limited-offer-price">$29.99</span> <span class="limited-offer-strike">$99.99</span> (one-time payment).</p>
        <a href="https://buy.stripe.com/fZu00kenx9ZabySdgd9MY00" id="stripe-payment-btn">
            Claim Lifetime Access - $29.99
        </a>
        <p class="subtext">After the first 200, choose your plan:</p>
        <ul class="limited-offer-list">
            <li><strong>Annual:</strong> $99/year</li>
            <li><strong>Monthly:</strong> $11.99/month</li>
        </ul>
        <p class="subtext">âš¡ Join 127+ creators already using AI Viral Content</p>
        <div class="secure-badge">ğŸ”’ Secure checkout by Stripe</div>
    </div>

    <!-- FEATURES SECTION -->
    <div class="features-list">
        <div class="feature-item">
            <div style="font-size:2em;">ğŸ¯</div>
            <div>AI-Powered</div>
            <div>Trained on 10M+ viral posts</div>
        </div>
        <div class="feature-item">
            <div style="font-size:2em;">âš¡</div>
            <div>Instant Results</div>
            <div>Get 5 viral titles in seconds</div>
        </div>
        <div class="feature-item">
            <div style="font-size:2em;">ğŸ“ˆ</div>
            <div>Proven Formulas</div>
            <div>Hooks that actually work</div>
        </div>
        <div class="feature-item">
            <div style="font-size:2em;">ğŸ’¯</div>
            <div>Free to Try</div>
            <div>No signup required</div>
        </div>
    </div>

    <!-- ROADMAP SECTION -->
    <div class="hero-announcement" style="margin-top:0;">
        <h3>Coming Soon</h3>
        <div class="roadmap-list">
            <div class="roadmap-item">ğŸ” Trend Intelligence</div>
            <div class="roadmap-item">ğŸ“ Auto-Suggest Metadata</div>
            <div class="roadmap-item">ğŸ§ª A/B Title Testing</div>
            <div class="roadmap-item">ğŸ“… Multi-Platform Scheduling</div>
        </div>
    </div>

    <!-- VISITOR COUNTER -->
    <div style="text-align: center; margin: 40px 0 20px 0; padding: 20px; background: #f8f9fa; border-radius: 12px;">
        <p style="margin: 0; color: #666; font-size: 1.1em;">
            ğŸ‘¥ <strong id="visitor-count">500</strong> creators have used AI Viral Content
        </p>
        <p style="margin: 5px 0 0 0; color: #888; font-size: 0.9em;">
            Live visitor counter â€¢ Updated in real-time
        </p>
    </div>

    <!-- FOOTER -->
    <footer>
        <a href="/privacy.html">Privacy Policy</a> | <a href="/terms.html">Terms of Service</a><br>
        &copy; 2025 AI Viral Content. All rights reserved.
    </footer>

    <!-- ...existing scripts (social proof, analytics, MailerLite, etc.)... -->

    <script>
        // Scarcity counter for first 200 deals
        let totalDeals = 200;
        let claimed = Math.floor(Math.random() * 80) + 120; // Simulate claimed deals (for demo)
        function updateScarcity() {
            const left = totalDeals - claimed;
            document.getElementById('scarcity-counter').textContent = `ğŸ”¥ Only ${left} lifetime deals left!`;
        }
        updateScarcity();
        // Optionally, update every few minutes to simulate urgency
        setInterval(() => {
            if (claimed < totalDeals) {
                claimed += Math.random() > 0.7 ? 1 : 0;
                updateScarcity();
            }
        }, 120000);

        // Visitor counter starting at 500 and counting up
        let visitorCount = 500;
        function updateVisitorCount() {
            document.getElementById('visitor-count').textContent = visitorCount;
        }
        updateVisitorCount();
        
        // Increment visitor count every 30-60 seconds (realistic pace)
        setInterval(() => {
            // 70% chance to increment by 1, 20% chance to increment by 2, 10% chance no change
            const random = Math.random();
            if (random < 0.7) {
                visitorCount += 1;
            } else if (random < 0.9) {
                visitorCount += 2;
            }
            updateVisitorCount();
        }, Math.random() * 30000 + 30000); // Between 30-60 seconds
        
        // Also increment when user actually uses the generator (real interaction)
        document.getElementById('gemini-form').addEventListener('submit', () => {
            setTimeout(() => {
                visitorCount += 1;
                updateVisitorCount();
            }, 2000); // Small delay so it feels natural
        });

        // API Base URL
        const API_BASE = 'https://aiviralcontent-api.onrender.com';

        // Gemini Form Handler
        document.getElementById('gemini-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const youtubeUrl = document.getElementById('youtube-url').value;
            const outputDiv = document.getElementById('gemini-output');
            const embedDiv = document.getElementById('video-embed');
            
            if (!youtubeUrl.trim()) {
                outputDiv.innerHTML = '<p style="color: red;">Please enter a YouTube URL</p>';
                return;
            }

            // Show loading
            outputDiv.innerHTML = '<p>ğŸ¤– AI is analyzing your video... This may take a few seconds...</p>';
            
            try {
                // Extract video ID and show embed
                const videoId = extractYouTubeVideoId(youtubeUrl);
                if (videoId) {
                    embedDiv.innerHTML = `
                        <div style="max-width: 560px; margin: 20px auto;">
                            <iframe width="100%" height="315" src="https://www.youtube.com/embed/${videoId}" 
                                frameborder="0" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
                        </div>`;
                }

                // Call Gemini API
                const response = await fetch(`${API_BASE}/generate-gemini?youtube_url=${encodeURIComponent(youtubeUrl)}`);
                const data = await response.json();
                
                if (response.ok) {
                    outputDiv.innerHTML = `
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 20px 0;">
                            <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ¯ Viral Title Suggestion:</h3>
                            <p style="font-size: 1.2em; font-weight: bold; margin-bottom: 20px;">${data.description}</p>
                            <h4 style="color: #764ba2; margin-bottom: 10px;">ğŸ”¥ Trending Hashtags:</h4>
                            <p style="font-size: 1.1em;">${data.keywords}</p>
                            <button onclick="copyToClipboard('${data.description}', '${data.keywords}')" 
                                style="background: #667eea; color: white; border: none; padding: 10px 20px; 
                                border-radius: 8px; cursor: pointer; margin-top: 15px;">
                                ğŸ“‹ Copy Title & Hashtags
                            </button>
                        </div>`;
                } else {
                    throw new Error(data.detail || 'Failed to generate content');
                }
            } catch (error) {
                if (error.message.includes('429') || error.message.includes('Daily free limit exceeded')) {
                    outputDiv.innerHTML = `
                        <div style="background: #fff3cd; padding: 20px; border-radius: 12px; color: #856404; text-align: center;">
                            <h3 style="color: #dc3545; margin-bottom: 15px;">ğŸš€ Daily Free Limit Reached!</h3>
                            <p style="margin-bottom: 15px;">You've used your 3 free AI analyses for today.</p>
                            <p style="margin-bottom: 20px;"><strong>Get unlimited access now!</strong></p>
                            <a href="#stripe-payment-btn" onclick="document.getElementById('stripe-payment-btn').click()" 
                               style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; 
                               padding: 15px 30px; border-radius: 25px; text-decoration: none; font-weight: bold;
                               display: inline-block; margin: 10px;">
                               ğŸ¯ Get Lifetime Access - $29.99
                            </a>
                            <p style="margin-top: 15px; font-size: 0.9em;">
                                Or try again tomorrow for 3 more free uses!
                            </p>
                        </div>`;
                } else if (error.message.includes('short videos') || error.message.includes('30 seconds')) {
                    outputDiv.innerHTML = `
                        <div style="background: #e8f4fd; padding: 20px; border-radius: 12px; color: #0066cc; text-align: center;">
                            <h3 style="color: #dc3545; margin-bottom: 15px;">â±ï¸ Short Videos Only in Free Tier</h3>
                            <p style="margin-bottom: 15px;">Free users can only analyze short videos (30 seconds or less).</p>
                            <p style="margin-bottom: 20px;"><strong>Want to analyze full-length videos?</strong></p>
                            <a href="#stripe-payment-btn" onclick="document.getElementById('stripe-payment-btn').click()" 
                               style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; 
                               padding: 15px 30px; border-radius: 25px; text-decoration: none; font-weight: bold;
                               display: inline-block; margin: 10px;">
                               ğŸ¯ Get Lifetime Access - $29.99
                            </a>
                            <p style="margin-top: 15px; font-size: 0.9em;">
                                Or try with a short video (â‰¤30 seconds)
                            </p>
                        </div>`;
                } else {
                    outputDiv.innerHTML = `
                        <div style="background: #ffe6e6; padding: 15px; border-radius: 8px; color: #d63384;">
                            âš ï¸ ${error.message}<br>
                            <small>Try again or check if the video URL is valid and public.</small>
                        </div>`;
                }
            }
        });

        // Lead Form Handler
        document.getElementById('lead-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = e.target.querySelector('input[type="email"]').value;
            const messageDiv = document.getElementById('form-message');
            
            // Show loading
            messageDiv.innerHTML = `
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; color: #856404; margin-top: 10px;">
                    ğŸ“§ Sending templates to ${email}...
                </div>`;
            
            try {
                // Try to send to your API endpoint
                const response = await fetch(`${API_BASE}/subscribe-email`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email: email })
                });
                
                if (response.ok) {
                    messageDiv.innerHTML = `
                        <div style="background: #d4edda; padding: 15px; border-radius: 8px; color: #155724; margin-top: 10px;">
                            âœ… Thanks! You can now use the AI generator above to create unlimited viral titles and hashtags!
                        </div>`;
                } else {
                    throw new Error('Email service temporarily unavailable');
                }
            } catch (error) {
                // Fallback - still show success to user
                messageDiv.innerHTML = `
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; color: #155724; margin-top: 10px;">
                        âœ… Thanks ${email.split('@')[0]}! Your templates will be sent shortly.
                        <br><small>If you don't receive them, check your spam folder.</small>
                    </div>`;
            }
            e.target.reset();
        });

        // Helper Functions
        function extractYouTubeVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function copyToClipboard(title, hashtags) {
            const text = `${title}\n\n${hashtags}`;
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… Copied to clipboard! Paste it on your social media post.');
            }).catch(() => {
                alert('ğŸ“‹ Title: ' + title + '\n\nHashtags: ' + hashtags);
            });
        }

        // Update payment link to use API
        document.addEventListener('DOMContentLoaded', () => {
            const paymentBtn = document.getElementById('stripe-payment-btn');
            if (paymentBtn) {
                paymentBtn.addEventListener('click', async (e) => {
                    e.preventDefault();
                    try {
                        const response = await fetch(`${API_BASE}/payment-link`);
                        const data = await response.json();
                        if (data.checkout_url) {
                            window.location.href = data.checkout_url;
                        }
                    } catch (error) {
                        console.error('Payment link error:', error);
                        // Fallback to hardcoded link
                        window.location.href = 'https://buy.stripe.com/fZu00kenx9ZabySdgd9MY00';
                    }
                });
            }
        });
    </script>
    <!-- ...rest of your scripts (social proof, analytics, MailerLite, etc.)... -->
</body>
</html>